# 🧪 VS Code 扩展验证测试指南

## 🚀 立即验证步骤

### Step 1: 启动扩展开发环境

```bash
cd vscode-extension
code .
```

1. 在VS Code中打开扩展项目
2. 按 **F5** 启动扩展开发主机
3. 新窗口打开，扩展自动加载

### Step 2: 验证命令注册

1. 在新窗口中按 **Cmd+Shift+P** (macOS) 或 **Ctrl+Shift+P** (Windows/Linux)
2. 在命令面板中输入 `CMMI`
3. 应该看到3个命令：
   - **CMMI: Analyze Task**
   - **CMMI: Create Agent** 
   - **CMMI: Manage Workflow**

### Step 3: 测试任务分析功能

1. 执行命令 `CMMI: Analyze Task`
2. 在输入框中输入测试任务：`实现用户登录功能`
3. 点击确认，应该弹出WebView窗口
4. 验证显示的分析结果包含：
   - 复杂度评估
   - 推荐代理
   - 任务分解
   - 下一步行动

### Step 4: 测试代理创建功能

1. 执行命令 `CMMI: Create Agent`
2. 输入代理名称：`test-agent`
3. 输入代理描述：`测试用代理`
4. 验证：
   - 显示成功消息
   - 打开新文档显示代理配置

### Step 5: 测试工作流管理

1. 执行命令 `CMMI: Manage Workflow`
2. 验证显示快速选择菜单
3. 选择任意选项，验证有相应响应

## ✅ 验证检查清单

### 基础功能验证
- [ ] 扩展成功加载，无错误信息
- [ ] 命令面板显示3个CMMI命令
- [ ] 任务分析命令正常执行
- [ ] WebView正确显示分析结果
- [ ] 代理创建功能正常工作
- [ ] 工作流管理菜单显示正确

### 用户体验验证
- [ ] 输入框提示文字正确显示
- [ ] 操作流程直观易懂
- [ ] 错误处理友好（尝试输入空值）
- [ ] 界面响应速度可接受

### 技术验证
- [ ] TypeScript编译无错误
- [ ] JavaScript代码正常执行
- [ ] WebView HTML格式正确
- [ ] 无控制台错误信息

## 🐛 常见问题排查

### 问题1: 扩展无法加载
**症状**: 按F5后无响应或出现错误
**解决**:
```bash
cd vscode-extension
npm run compile
```

### 问题2: 命令未显示
**症状**: 命令面板中找不到CMMI命令
**解决**: 检查package.json中的contributes配置

### 问题3: WebView无法显示
**症状**: 任务分析后无窗口弹出
**解决**: 检查浏览器控制台，验证HTML格式

### 问题4: TypeScript错误
**症状**: 编译时出现类型错误
**解决**: 
```bash
npm install @types/vscode@latest
```

## 📊 测试数据

### 测试用例1: 简单任务
**输入**: `修改按钮颜色`
**预期**: 复杂度为simple，推荐coding-agent

### 测试用例2: 中等任务  
**输入**: `实现用户注册API`
**预期**: 复杂度为medium，推荐多个agent

### 测试用例3: 复杂任务
**输入**: `设计微服务架构并实现用户认证系统`
**预期**: 复杂度为complex，推荐全套agent

## 🎯 成功标准

### Phase 1 目标达成标准
1. **功能完整性**: 所有3个命令都能正常执行
2. **用户体验**: 操作流程顺畅，反馈及时
3. **技术稳定性**: 无崩溃，无严重错误
4. **扩展性**: 代码结构清晰，便于后续开发

### 验证通过条件
- 所有检查清单项目 ✅
- 至少通过2个测试用例
- 无阻塞性技术问题
- 用户体验满意度良好

## 🔄 验证失败处理

### 如果基础功能失败
1. 回滚到最后稳定版本
2. 重新检查依赖安装
3. 验证TypeScript配置
4. 简化功能实现

### 如果用户体验不佳
1. 优化提示信息
2. 改进错误处理
3. 简化操作流程
4. 增加进度反馈

## 📈 下一步规划

### 验证通过后的行动
1. **提交代码变更**
2. **更新项目文档**
3. **开始Phase 2开发**
4. **准备MCP集成**

### Phase 2 准备工作
1. **MCP工具迁移方案设计**
2. **Copilot Chat集成研究**
3. **文件操作功能规划**
4. **用户反馈收集机制**

---

**🎯 立即行动**: 按照以上步骤进行验证，确认VS Code扩展基础功能正常工作！
